<ng-container *ngIf="teamsAndSolutionsControls && teamsAndSolutionsControls.isShow ">
  <div class="team" *ngIf="userService.data | async as user  ">

    <div class="team__header" *ngIf="grant?.isShowAppliers">

      <div class="team__title mat-display-4">{{titleText}}</div>

      <div class="team__controls" *ngIf="teamsAndSolutionsControls">
        <button
          class="active"
          (click)="newSignupEvent.emit()"
          *ngIf="user.roles.isUnauthorized"
        >
          {{'entity.log_in_for_apply' | transloco}}
        </button>

        <button
          class="active"
          (click)="newSubmitSolutionEvent.emit()"
          *ngIf="teamsAndSolutionsControls.isSubmitSolutionBtn"
        >
          {{ 'entity.submit_solution' | transloco }}
        </button>

        <div
          matTooltip="{{'tooltip.not_enough_money' | transloco}}"
          [matTooltipDisabled]="(userService.isBalanceMoreCommission$ | async) !== false"
        >
          <button
            class="active"
            (click)="newOpenApplyModalEvent.emit()"
            [disabled]="(userService.isBalanceMoreCommission$ | async) === false"
            *ngIf="teamsAndSolutionsControls.isApplyBtn && !teamsAndSolutionsControls.leaderIds.includes(userService.data.getValue().userAddress)"
          >
            {{ applyBtnText }}
          </button>
        </div>

      </div>
    </div>

    <ul *ngIf="grant?.app?.length > 0 && teamsAndSolutionsControls" class="team__list">
      <ng-container *ngFor="let app of grant?.app | sortBySolutions ">
        <li
          [class.winner]="
            !multiWinners
            && (
              grantStatusEnum.workFinished === grant?.status?.value
              || grantStatusEnum.solutionChosen === grant?.status?.value
            )
            && app?.process
            && app?.id?.value === winnerSolutionId
          "
          [class.disabled-team]="
           !teamsAndSolutionsControls.isShowAllTeam
           && (!(app?.votes?.applicant?.value) || app?.votes?.applicant?.value < 0)
        "
          class="team__list__li"
        >

          <ui-voting-square
            *ngIf="teamsAndSolutionsControls.stepType === 'team'"
            [votes]="app?.score?.applicant?.value"
            [teamId]="app.id.value"
            [isCanVote]="
              (!teamsAndSolutionsControls.teamVoteKeys.includes(app.key)
              || grantStatusEnum.readyToApply !== grant?.status?.value)
              && grantStatusEnum.rejected !== grant?.status?.value
              && grantStatusEnum.workStarted !== grant?.status?.value
            "
            [isShowResult]="!user.roles.isDAO || teamsAndSolutionsControls.teamVoteKeys.includes(app.key)"
            (voteEvent)="newVoteTeamEvent.emit($event)"
          ></ui-voting-square>
          <ui-voting-square
            *ngIf="teamsAndSolutionsControls.stepType !== 'team'"
            [votes]="app?.score?.solution?.value"
            [teamId]="app.id.value"
            [isCanVote]="
              !app?.voted?.solution?.value.includes(userService.data.getValue().userAddress)
              && grantStatusEnum.solutionChosen !== grant?.status?.value
              && grantStatusEnum.rejected !== grant?.status?.value
            "
            [isShowResult]="!user.roles.isDAO || app?.voted?.solution?.value.includes(userService.data.getValue().userAddress)"
            (voteEvent)="newVoteForSolutionEvent.emit($event)"
          ></ui-voting-square>

          <div class="team__mid-container">
            <div class="team__name">
              {{app?.name?.value}}
              <ui-statuses
                [isHasSolution]="app?.solution?.value"
                [isRejected]="teamsAndSolutionsControls.stepType !== 'team' && app?.score?.applicant?.value < 1"
              ></ui-statuses>
            </div>
            <div class="team__mid-container-bottom">
              <a class="team__link mat-display-1" [href]="app?.link?.value">
                {{'entity.learn_about_team' | transloco}}
                <img alt="link" src="assets/icons/link.svg">
              </a>
              <a class="team__solution-link mat-display-1" *ngIf="app?.solution?.value" [href]="app?.solution?.value">
                {{'entity.learn_about_solution' | transloco}}
                <img alt="link" src="assets/icons/link.svg">
              </a>
            </div>
          </div>
          <div class="team__list__li__right mat-display-2">
            <ng-container *ngIf="app.process && grant?.status.value === grantStatusEnum.workStarted">
              <img alt="winner" src="assets/icons/winner.png">{{'entity.approved' | transloco}}
            </ng-container>
            <ng-container *ngIf="
              !multiWinners
              && (
                grantStatusEnum.workFinished === grant?.status?.value
                || grantStatusEnum.solutionChosen === grant?.status?.value
              )
              && app?.process
              && app?.id?.value === winnerSolutionId
            ">
              <img alt="winner" src="assets/icons/winner.png">{{'entity.winner' | transloco}}
            </ng-container>
          </div>
        </li>
      </ng-container>

    </ul>

  </div>
</ng-container>
