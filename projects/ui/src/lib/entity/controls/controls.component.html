<div class="controls">
  <ng-container *ngIf="status === grantStatusEnum.noStatus">

  </ng-container>

  <ng-container *ngIf="status === grantStatusEnum.proposed">
    <ng-container *ngIf="userService.data.getValue().roles.isWG">
<!--      <button [routerLink]="['/', 'edit-grant', grantId ]" [disabled]="!isBalanceMoreCommission">-->
<!--        {{'entity.edit' | transloco}}-->
<!--      </button>   -->
      <button [routerLink]="['/', 'add-reward', grantId ]" [disabled]="!(this.userService.isBalanceMoreCommission$ | async)">
        {{'entity.add_reward' | transloco}}
      </button>
      <button *ngIf="voted" (click)="finishVote()" [disabled]="!(this.userService.isBalanceMoreCommission$ | async)">
        {{'entity.finish_vote' | transloco}}
      </button>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="status === grantStatusEnum.readyToApply">
    <ng-container *ngIf="userService.data.getValue().userRole !== userRoleEnum.unauthorized">
      <ng-container *ngIf="grantId && !userService.data.getValue().apply.includes(grantId)">
<!--        <button [routerLink]="['/', 'apply-grant', grantId]">-->
        <button (click)="onOpenApplyModal()" [disabled]="!(this.userService.isBalanceMoreCommission$ | async)">
          {{'entity.apply' | transloco}}
        </button>
        <p *ngIf="!(this.userService.isBalanceMoreCommission$ | async)">Insufficient balance</p>
      </ng-container>
      <ng-container *ngIf="userService.data.getValue().userRole == userRoleEnum.workingGroup">
        <button (click)="finishApplicantsVote()" [disabled]="!(this.userService.isBalanceMoreCommission$ | async)">
          {{'entity.finish_applicants_voting' | transloco}}
        </button>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="userService.data.getValue().userRole == userRoleEnum.unauthorized">
      <button class="active" (click)="signup()">{{'entity.log_in_for_apply' | transloco}}</button>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="status === grantStatusEnum.rejected">

  </ng-container>

  <ng-container *ngIf="status === grantStatusEnum.teamChosen">
    <ng-container *ngIf="userService.data.getValue().userRole == userRoleEnum.workingGroup">
      <ng-container *ngIf="performer && userService.data.getValue().userAddress.includes(performer)">
        <button class="active" (click)="startWork()" [disabled]="!(this.userService.isBalanceMoreCommission$ | async)">{{'entity.start_work' | transloco}}</button>
        <p *ngIf="!(this.userService.isBalanceMoreCommission$ | async)">Insufficient balance</p>
      </ng-container>
      <button class="btn" (click)="reject()">Reject</button>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="status === grantStatusEnum.workStarted">
    <ng-container *ngIf="userService.data.getValue().userRole == userRoleEnum.workingGroup">
      <input type="text" [(ngModel)]="reportLink" placeholder="report link">
      <button (click)="acceptWorkResult()" class="btn" [disabled]="!(this.userService.isBalanceMoreCommission$ | async)">
        {{'entity.accept_work_result' | transloco}}
      </button>
      <p *ngIf="!(this.userService.isBalanceMoreCommission$ | async)">Insufficient balance</p>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="status === grantStatusEnum.workFinished">

  </ng-container>
</div>


