<div class="team" *ngIf="userService.data | async as user">
  <h3>{{'entity.teams' | transloco}}</h3>

  <ul *ngIf="grant?.app?.length > 0">
    <li *ngFor="let app of grant?.app | sortByTeam" [class.winner]="app?.process">

      <div class="left" [ngSwitch]="user.roles.isDAO">
        <ng-container *ngSwitchCase="true">
            <div class="up" [class.disabled]="!isReadyToApply()">
              <img src="assets/icons/arr-up.svg" (click)="voteTeam( 'like', app.id.value)" *ngIf="!isReadyToApply() && user.roles.isDAO">
              <img src="assets/icons/arr-up-blue.svg" (click)="voteTeam( 'like', app.id.value)" *ngIf="isReadyToApply() && user.roles.isDAO">
            </div>
            <div class="score">{{app?.score?.value || 0}}</div>
            <div class="down" [class.disabled]="!isReadyToApply()">
              <img src="assets/icons/arr-down.svg" (click)="voteTeam( 'dislike', app.id.value)" *ngIf="!isReadyToApply() && user.roles.isDAO">
              <img src="assets/icons/arr-down-red.svg" (click)="voteTeam( 'like', app.id.value)" *ngIf="isReadyToApply() && user.roles.isDAO">
            </div>
        </ng-container>
        <ng-container *ngSwitchDefault>
            <div class="top">{{'entity.votes' | transloco}}</div>
            <div class="bottom">{{app?.score?.value || 0}}</div>
        </ng-container>
      </div>

      <div class="mid">
        <div class="name">{{app?.name?.value}}</div>
        <a class="link" [href]="app?.link?.value"> {{'entity.learn_about_team' | transloco}} <img src="assets/icons/link.svg"></a>
      </div>
      <div class="right">
        <ng-container *ngIf="app.process">
          <img src="assets/icons/winner.png">{{'entity.winner' | transloco}}
        </ng-container>
      </div>
    </li>
  </ul>

  <div class="card__body" *ngIf="grant?.app?.length === 0">
    {{'entity.no_applied_teams' | transloco}}
  </div>
</div>
