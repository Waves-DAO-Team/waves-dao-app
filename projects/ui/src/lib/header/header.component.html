<header >
  <div class="container" *ngIf="userRole$ | async as userRole">
    <div class="logo" >
      <img alt="logo" src="/assets/icons/logo-dao.svg" (click)="isToggleMenuOpen = false" [routerLink]="['/']">
      <div id="menu-toggle" [class.open]="isToggleMenuOpen" (click)="isToggleMenuOpen = !isToggleMenuOpen">
        <div id="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <div id="cross">
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
    <ul class="nav" [class.open]="isToggleMenuOpen">

      <li *ngFor="let contract of contractsList$ | async"
          class="mat-display-2"
          (click)="isToggleMenuOpen = false"
          [routerLink]="[constants.routes.listing | route : contract.name ]"
          routerLinkActive="active">
          {{ contract.navigation }}
      </li>

      <li
        class="mat-display-2"
        (click)="isToggleMenuOpen = false"
        [routerLink]="[constants.routes.members | route]"
        routerLinkActive="active">
        {{ 'app.header.members' | transloco }}
      </li>

      <li *ngIf="(user$ | async)?.name" class="profile mat-display-2">
        <div class="icon" *ngIf="userService.data.getValue().userRole as role">
          <img alt="avatar" src="assets/icons/avatar/master.svg" *ngIf="role === roleEnum.master || role === roleEnum.manager">
          <img alt="avatar" src="assets/icons/avatar/dao.svg" *ngIf="role === roleEnum.daoMember">
          <img alt="avatar" src="assets/icons/avatar/wg.svg" *ngIf="role === roleEnum.workingGroup">
          <img alt="avatar" src="assets/icons/avatar/auth.svg" *ngIf="role === roleEnum.authorized">
        </div>
        <div class="content">
          <div class="name mat-display-2">
            {{(user$ | async)?.name}}
          </div>
          <div class="role mat-display-1">
            <ng-container *ngIf="userService.data.getValue().userRole === roleEnum.manager">
              {{ 'role.manager' | transloco }}
            </ng-container>
            <ng-container *ngIf="userService.data.getValue().userRole === roleEnum.workingGroup">
              {{ 'role.wg' | transloco }}
            </ng-container>
            <ng-container *ngIf="userService.data.getValue().userRole === roleEnum.daoMember">
              {{ 'role.dao' | transloco }}
            </ng-container>
            <ng-container *ngIf="userService.data.getValue().userRole === roleEnum.authorized">
              {{ 'role.auth' | transloco }}
            </ng-container>
          </div>

        </div>
        <img alt="logout" src="assets/icons/logout.svg" (click)="logoutHandler(); isToggleMenuOpen = false">
      </li>
      <li *ngIf="userRole === roleEnum.unauthorized" class="profile mat-display-2">
        <button (click)="signupHandler(); isToggleMenuOpen = false">
          {{ 'app.header.login' | transloco }}
          <img alt="logout" src="assets/icons/arr-right.svg">
        </button>
      </li>
    </ul>
  </div>
</header>
