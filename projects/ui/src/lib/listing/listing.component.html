<div class="listing">
    <div class="content">
      <ui-tag [tags]="listGrantStatuses$ | async" (selectedTag)="selectTag($event)"></ui-tag>

      <div class="listing-list" *ngIf="grants.data$ | async as list; else loadingOrErrorTemplate">
        <ui-sub-list
                [contract]="contract$ | async"
                [type]="'active'"
                [isImportant]="true"
                [title]="'listing.list.important' | transloco"
                [grants]="(importantGrantList$ | async)"
        ></ui-sub-list>
        <ui-sub-list
                [type]="'default'"
                [contract]="contract$ | async"
                [isImportant]="false"
                [title]="'listing.list.grants' | transloco"
                [grants]="(otherGrantList$ | async)"
        ></ui-sub-list>
      </div>
      <ng-template #loadingOrErrorTemplate>
        <ng-container *ngIf="grants.error$ | async; else loading">
          {{'listing.list_empty' | transloco}}
        </ng-container>
      </ng-template>

      <ng-template #loading>
        {{'listing.loading' | transloco}}...
      </ng-template>

    </div>
</div>
