<div class="container listing">
  <h1>
    {{'listing.title' | transloco}}
  </h1>

  <div class="top-desc">
    You can vote for grants from the community, vote for grant applicants, try to execute the grant yourself. <span>Select a category now:</span>
  </div>

  <div class="grants-variation">
    <div class="grant" [class.active]="grantsVariationActive === '1'" (click)="grantsVariationActive = '1'">
      <div class="img"></div>
      <div class="content">
        <div class="title">Disruptive Tech Grant</div>
        <div class="desc">Disruptive Tech Grant is awarded to implement tasks dedicated to developing solutions that
          meet the rapidly accelerating Waves ecosystemâ€™s needs.
        </div>
      </div>
    </div>
    <div class="grant" [class.active]="grantsVariationActive === '2'" (click)="grantsVariationActive = '2'">
      <div class="img"></div>
      <div class="content">
        <div class="title">Web3.0 Dev Grant</div>
        <div class="desc">Web 3.0 Development Grant is awarded for creating products based on the Waves protocol that
          resolves specific problems and foster mass adoption.
        </div>
      </div>
    </div>
    <div class="grant" [class.active]="grantsVariationActive === '3'" (click)="grantsVariationActive = '3'">
      <div class="img"></div>
      <div class="content">
        <div class="title">Interhack Grant</div>
        <div class="desc">Interhack grants are awarded for building innovative solutions at hackathons in accordance
          with assignments provided by the Waves Association.
        </div>
      </div>
    </div>
  </div>

  <div class="content">
    <ui-tag [tags]="listGrantStatuses" (selectedTag)="selectedTag($event)"></ui-tag>

      <!--grants-->
      <div class="listing-list" *ngIf="grants.data$ | async as list; else loadingOrErrorTemplate">
        <ng-container *ngFor="let entity of list; trackBy: trackByFn">
          <ng-container *ngIf="isCanShowByTag(entity?.status?.value, selectedTagName)">
            <a class="card" [routerLink]="constants.routes.entity | route: entity?.id">
              <div class="card__header">
                <div class="card__header__left-block">
                  <div class="card__header__left-block__status">
                    {{'listing.status.' + (entity?.status?.value || 'no_status') | transloco}}
                    <div class="card__header__left-block__status__role-text"
                         *ngIf="userService.data.getValue().roles.isDAO
                      && entity?.status?.value === GrantStatusEnum.proposed">
                      {{ userService.data.getValue().voted.includes(entity?.id)
                      ? ('listing.DAO_subtext.vote_counted' | transloco)
                      : ('listing.DAO_subtext.need_vote' | transloco)}}
                    </div>
                  </div>
                  <div class="card__header__left-block__title">{{entity?.title?.value}}</div>
                </div>
                <div class="card__header__right-block">
                  <div class="card__header__right-block__text">Reward</div>
                  <div class="card__header__right-block__price">
                    {{entity?.reward?.value / 100000000 | number : '1.2'}}
                    <div class="icon-logo"></div>
                  </div>
                </div>
              </div>
            </a>
          </ng-container>
        </ng-container>
      </div>
      <ng-template #loadingOrErrorTemplate>
        <ng-container *ngIf="grants.error$ | async; else loading">
          List is a empty
        </ng-container>
      </ng-template>

      <ng-template #loading>
        Loading...
      </ng-template>




  </div>

</div>

    <!--  <ui-tag [tags]="listGrantStatuses" (selectedTag)="selectedTag($event)"></ui-tag>-->


