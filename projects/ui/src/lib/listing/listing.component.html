<div class="container listing" *ngIf="user$ | async as user">

<!--  <div class="container__left">-->

<!--  </div>-->
  <div class="container__mid">
    <h1>
      {{'listing.title' | transloco}}
    </h1>

    <div class="top-desc">
      You can vote for grants from the community, vote for grant applicants, try to execute the grant yourself. <span>Select a category now:</span>
    </div>


    <div class="grants-variation">
      <div class="grant"
           *ngFor="let grants of grantsVariationsList"
           [class.active]="user.masterAddress === grants.type"
           (click)="setEnv(grants.type)">
        <img [src]="grants.img">
        <div class="content">
          <div class="title">{{grants.title}}</div>
          <div class="desc">{{grants.desc}}
          </div>
        </div>
      </div>
      <div class="final"></div>
    </div>

    <div class="content">
      <ui-tag [tags]="listGrantStatuses" (selectedTag)="selectedTag($event)"></ui-tag>

      <div class="listing-list" *ngIf="grants.data$ | async as list; else loadingOrErrorTemplate">
        <ui-sub-list [isImportant]="true" title="Important grants" [grants]="(importantGrant$ | async)"></ui-sub-list>
        <ui-sub-list [isImportant]="false" title="All grants" [grants]="(otherGrant$ | async)"></ui-sub-list>
      </div>
      <ng-template #loadingOrErrorTemplate>
        <ng-container *ngIf="grants.error$ | async; else loading">
          List is a empty
        </ng-container>
      </ng-template>

      <ng-template #loading>
        Loading...
      </ng-template>


    </div>
  </div>
<!--  <div class="container__right">-->
<!--  </div>-->
</div>

<!--<ui-tag [tags]="listGrantStatuses" (selectedTag)="selectedTag($event)"></ui-tag>-->


