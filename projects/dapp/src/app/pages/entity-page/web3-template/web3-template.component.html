<ng-template #web3Btn>
  <button (click)="addReward()" *ngIf="
    !(grant?.status)
    && grant?.leader?.value === userService.data.getValue().userAddress
    && !(grant?.reward?.value)
  ">
    {{ 'modal.btn.add_task_details' | transloco }}
  </button>
  <button (click)="initTaskVoting()" *ngIf="!grant?.status && userService.data.getValue().userAddress === userService.data.getValue().owner">
    {{ 'modal.btn.init_task_voting' | transloco }}
  </button>
</ng-template>

<!--userService.data.getValue().userAddress: {{userService.data.getValue().userAddress}} <br>-->
<!--userService.data.getValue().owner: {{userService.data.getValue().owner}} <br>-->
<!--grant?.leader?.value: {{grant?.leader?.value}} <br>-->
<!--{{contract | json}}-->
<!--{{communityContractService.streamContractService().owner | async | json}}-->

<ng-template #voteForTask>
  <ui-vote-for-task
    [isShow]="voteForTaskData.isShow"
    [isVote]="voteForTaskData.isVote"
    (newVoteEvent)="vote($event)"
  ></ui-vote-for-task>
</ng-template>

<ui-entity
  [contract]="contract"
  [grant]="grant"
  (newFinishVoteEvent)="finishVote()"
  (newStartWorkEvent)="startWork()"
  (newRejectEvent)="reject()"
  (newAcceptWorkResultEvent)="acceptWorkResult($event)"
  (newFinishApplicantsVoteEvent)="finishApplicantsVote()"
  (newAddRewardEvent)="addReward()"
  [controlsTemplate]="web3Btn"
  [voteForTaskTemplate]="voteForTask"
></ui-entity>
